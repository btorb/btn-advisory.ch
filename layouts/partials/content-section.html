{{ $imagePosition := .imagePosition | default "right" }}
{{ $background := .background | default "white" }}
{{ $imageSrc := .imageSrc }}
{{ $title := .title }}
{{ $subtitle := .subtitle }}
{{ $content := .content }}

<section class="relative w-screen -ml-[50vw] left-1/2 right-1/2 {{ if eq $background "blue" }}bg-blue-50{{ else }}bg-white{{ end }} py-16 md:py-24">
    <!-- Content container -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex flex-col {{ if eq $imagePosition "left" }}md:flex-row-reverse{{ else }}md:flex-row{{ end }} items-center gap-12">
            <!-- Text Content -->
            <div class="w-full md:w-1/2">
                {{ with $subtitle }}
                    <div class="text-primary-600 font-semibold mb-4">{{ . }}</div>
                {{ end }}
                <h2 class="heading-xl mb-6">{{ $title }}</h2>
                <div class="text-feature mb-8">
                    {{ safeHTML $content }}
                </div>
                {{ with .buttons }}
                    <div class="flex flex-wrap gap-4">
                        {{ range . }}
                            <a href="{{ .url }}" class="{{ .class }}">{{ .text }}</a>
                        {{ end }}
                    </div>
                {{ end }}
            </div>

            <!-- Image -->
            <div class="w-full md:w-1/2">
                <img 
                    src="{{ $imageSrc | absURL }}" 
                    alt="{{ $title }}"
                    class="rounded-lg shadow-lg w-full h-auto object-cover"
                >
            </div>
        </div>
    </div>
</section>